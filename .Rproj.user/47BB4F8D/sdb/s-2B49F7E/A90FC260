{
    "contents" : "\ngetValidStates <-function()\n{  \n  if(!exists(\"validStates\"))\n  {\n  validStates <<- c(\"AL\", \"AK\", \"AZ\", \"AR\", \"CA\", \"CO\", \"CT\", \"DE\", \"FL\", \"GA\", \n                   \"HI\", \"ID\", \"IL\", \"IN\", \"IA\", \"KS\", \"KY\", \"LA\", \"ME\", \"MD\", \n                   \"MA\", \"MI\", \"MN\", \"MS\", \"MO\", \"MT\", \"NE\", \"NV\", \"NH\", \"NJ\",\n                   \"NM\", \"NY\", \"NC\", \"ND\", \"OH\", \"OK\", \"OR\", \"PA\", \"RI\", \"SC\",\n                   \"SD\", \"TN\", \"TX\", \"UT\", \"VT\", \"VA\", \"WA\", \"WV\", \"WI\", \"WY\");\n  }\n  return (validStates)\n}\n\ngetFile <-function(pFileName=\"outcome-of-care-measures.csv\")\n{\n  pathToFile=paste(getwd(), \"/\", \"rprog_data_ProgAssignment3-data/\", pFileName, sep=\"\")\n  return (read.csv(pathToFile, colClasses=\"character\"))\n}\n\n## returns a dataset with min values per state\ngetMinDataSet <- function(pDataSet, pState, pOutcome)\n{\n  ## transforming the outcome column in numeric\n  pDataSet[,pOutcome] <- as.numeric(pDataSet[,pOutcome])\n  \n  ## subset by state\n  tempDs <- subset(pDataSet, pDataSet$State==pState &!is.na(pDataSet[,pOutcome]), c(\"Hospital.Name\", \"City\", \"State\", pOutcome))\n    \n  #print(tempDs)\n  \n  #return(tempDs)\n  \n  ##then, the minimum from the state\n  minDs <- subset(tempDs, tempDs[pOutcome]== min(tempDs[pOutcome]))[order(paste(\"-\",pOutcome), \"Hospital.Name\"),]\n  \n}\n\nbest <- function(pState, pOutcome) {\n  ## Read outcome data\n  ## Check that state and outcome are valid\n  ## Return hospital name in that state with lowest 30-day death\n  ## rate\n  return (subset( head( getMinDataSet(getFile(), pState, pOutcome),1), 1==1, c(\"Hospital.Name\", pOutcome)))\n}",
    "created" : 1408283882393.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3318241604",
    "id" : "A90FC260",
    "lastKnownWriteTime" : 1408293314,
    "path" : "~/MOOC/2014/course02- R programming/Assignments/Assing-03-HospQuality/best-01.R",
    "project_path" : "best-01.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : true,
    "type" : "r_source"
}